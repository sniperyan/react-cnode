webpackJsonp([1],{2:function(e,t){"use strict";function n(e){return"[object Array]"===x.call(e)}function o(e){return"[object ArrayBuffer]"===x.call(e)}function r(e){return"undefined"!=typeof FormData&&e instanceof FormData}function a(e){var t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function i(e){return"string"==typeof e}function l(e){return"number"==typeof e}function s(e){return"undefined"==typeof e}function u(e){return null!==e&&"object"==typeof e}function c(e){return"[object Date]"===x.call(e)}function f(e){return"[object File]"===x.call(e)}function p(e){return"[object Blob]"===x.call(e)}function d(e){return"[object Function]"===x.call(e)}function m(e){return u(e)&&d(e.pipe)}function h(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function y(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function b(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement}function g(e,t){if(null!==e&&"undefined"!=typeof e)if("object"==typeof e||n(e)||(e=[e]),n(e))for(var o=0,r=e.length;o<r;o++)t.call(null,e[o],o,e);else for(var a in e)e.hasOwnProperty(a)&&t.call(null,e[a],a,e)}function v(){function e(e,n){"object"==typeof t[n]&&"object"==typeof e?t[n]=v(t[n],e):t[n]=e}for(var t={},n=0,o=arguments.length;n<o;n++)g(arguments[n],e);return t}var x=Object.prototype.toString;e.exports={isArray:n,isArrayBuffer:o,isFormData:r,isArrayBufferView:a,isString:i,isNumber:l,isObject:u,isUndefined:s,isDate:c,isFile:f,isBlob:p,isFunction:d,isStream:m,isURLSearchParams:h,isStandardBrowserEnv:b,forEach:g,merge:v,trim:y}},10:function(e,t){"use strict";function n(){var e=0;return document.documentElement&&document.documentElement.scrollTop?e=document.documentElement.scrollTop:document.body&&(e=document.body.scrollTop),e}function o(){var e=0;return e=document.body.clientHeight&&document.documentElement.clientHeight?Math.min(document.body.clientHeight,document.documentElement.clientHeight):Math.max(document.body.clientHeight,document.documentElement.clientHeight)}function r(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}Object.defineProperty(t,"__esModule",{value:!0});var a={};a.formatDate=function(e){var t=new Date(e),n=(new Date).getTime()-t.getTime();return n<0?"":n/1e3<60?parseInt(n/1e3)+"秒前":n/6e4<60?parseInt(n/6e4)+"分钟前":n/36e5<24?parseInt(n/36e5)+"小时前":n/864e5<31?parseInt(n/864e5)+"天前":n/2592e6<12?parseInt(n/2592e6)+"月前":parseInt(n/31536e6)+"年前"},a.localItem=function(e,t){return 1==arguments.length?localStorage.getItem(e):localStorage.setItem(e,t)},a.removeLocalItem=function(e){return e?localStorage.removeItem(e):localStorage.removeItem()},a.reachBottom=function(){return(n()+o())/r()>=.98},t.Tool=a},20:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Footer=t.Header=t.UserHeadImg=t.TipMsgSignin=t.TabIcon=t.DataLoad=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(3),u=o(s),c=n(31),f=n(10);n(38);var p=t.DataLoad=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.loadingData,n=e.loadFailed,o=e.msg;return u["default"].createElement("div",null,u["default"].createElement("div",{className:"data-load data-load-"+t}),u["default"].createElement("p",{className:"data-tips-"+n},o))}}]),t}(s.Component);p.propTypes={loadingData:u["default"].PropTypes.bool,loadFailed:u["default"].PropTypes.bool,msg:u["default"].PropTypes.string};var d=t.TabIcon=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.tab,n=e.top,o=e.good;return n?t="top":o&&(t="good"),u["default"].createElement("i",{className:"iconfont icon-"+t})}}]),t}(s.Component);d.propTypes={tab:u["default"].PropTypes.string,top:u["default"].PropTypes.bool,good:u["default"].PropTypes.bool};var m=(t.TipMsgSignin=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return u["default"].createElement("div",{className:"tip-msg-signin"},"你还未登录，请先",u["default"].createElement(c.Link,{to:"/login"},"登录"))}}]),t}(s.Component),t.UserHeadImg=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.url;return u["default"].createElement("div",{className:"user-headimg",style:{backgroundImage:"url("+e+")"}})}}]),t}(s.Component));m.propTypes={url:u["default"].PropTypes.string};var h=t.Header=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.leftTo,o=e.leftIcon,r=e.rightTo,a=e.rightIcon,i=e.rightClick,l=null;n&&o?l=u["default"].createElement(c.Link,{to:n},u["default"].createElement("i",{className:"iconfont icon-"+o})):"fanhui"===o&&(l=u["default"].createElement("a",{onClick:this.context.router.goBack},u["default"].createElement("i",{className:"iconfont icon-"+o})));var s=null;return r&&a?s=u["default"].createElement(c.Link,{to:r},u["default"].createElement("i",{className:"iconfont icon-"+a})):i&&a&&(s=u["default"].createElement("div",{onClick:i},u["default"].createElement("i",{className:"iconfont icon-"+a}))),u["default"].createElement("header",{className:"common-header"},u["default"].createElement("div",{className:"icon"},l),u["default"].createElement("h2",{className:"title"},t),u["default"].createElement("div",{className:"icon"},s))}}]),t}(s.Component);h.contextTypes={router:u["default"].PropTypes.object.isRequired};var y=t.Footer=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=JSON.parse(f.Tool.localItem("User")),t=e&&e.loginname?"/user/"+e.loginname:"/login",n=[];return n[this.props.index]="on",u["default"].createElement("footer",{className:"common-footer"},u["default"].createElement("div",{className:"zhanwei"}),u["default"].createElement("ul",{className:"menu"},u["default"].createElement("li",{className:n[0]},u["default"].createElement(c.Link,{to:"/"},u["default"].createElement("i",{className:"iconfont icon-shouye"}),"首页")),u["default"].createElement("li",{className:n[1]},u["default"].createElement(c.Link,{to:"/topic/create"},u["default"].createElement("i",{className:"iconfont icon-fabu"}),"发表")),u["default"].createElement("li",{className:n[2]},u["default"].createElement(c.Link,{to:"/my/messages"},u["default"].createElement("i",{className:"iconfont icon-xiaoxi"}),"消息")),u["default"].createElement("li",{className:n[3]},u["default"].createElement(c.Link,{to:t},u["default"].createElement("i",{className:"iconfont icon-wode"}),"我的"))))}},{key:"shouldComponentUpdate",value:function(e){return this.props.index!==e.index}}]),t}(s.Component);y.propTypes={index:u["default"].PropTypes.string},y.defaultProps={index:0}},21:function(e,t,n){"use strict";var o=n(2),r=n(48),a=n(54),i=n(22),l=n(52),s="undefined"!=typeof window&&window.btoa||n(47),u=n(55);e.exports=function(e,t,c){var f=c.data,p=c.headers;o.isFormData(f)&&delete p["Content-Type"];var d=new XMLHttpRequest,m="onreadystatechange",h=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||l(c.url)||(d=new window.XDomainRequest,m="onload",h=!0,d.onprogress=function(){},d.ontimeout=function(){}),c.auth){var y=c.auth.username||"",b=c.auth.password||"";p.Authorization="Basic "+s(y+":"+b)}if(d.open(c.method.toUpperCase(),r(c.url,c.params,c.paramsSerializer),!0),d.timeout=c.timeout,d[m]=function(){if(d&&(4===d.readyState||h)&&0!==d.status){var n="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,o=c.responseType&&"text"!==c.responseType?d.response:d.responseText,r={data:i(o,n,c.transformResponse),status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:n,config:c,request:d};u(e,t,r),d=null}},d.onerror=function(){t(new Error("Network Error")),d=null},d.ontimeout=function(){var e=new Error("timeout of "+c.timeout+"ms exceeded");e.timeout=c.timeout,e.code="ECONNABORTED",t(e),d=null},o.isStandardBrowserEnv()){var g=n(50),v=c.withCredentials||l(c.url)?g.read(c.xsrfCookieName):void 0;v&&(p[c.xsrfHeaderName]=v)}if("setRequestHeader"in d&&o.forEach(p,function(e,t){"undefined"==typeof f&&"content-type"===t.toLowerCase()?delete p[t]:d.setRequestHeader(t,e)}),c.withCredentials&&(d.withCredentials=!0),c.responseType)try{d.responseType=c.responseType}catch(x){if("json"!==d.responseType)throw x}c.progress&&("post"===c.method||"put"===c.method?d.upload.addEventListener("progress",c.progress):"get"===c.method&&d.addEventListener("progress",c.progress)),void 0===f&&(f=null),d.send(f)}},22:function(e,t,n){"use strict";var o=n(2);e.exports=function(e,t,n){return o.forEach(n,function(n){e=n(e,t)}),e}},28:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){var n={method:"get",type:"json",timeout:5e3,url:"",needLoad:!0,data:null,success:null,error:null};for(var o in t)n[o]=t[o];return e(i.setloadFail(!1)),n.needLoad&&e(i.setload(!0)),function(e,t){return(0,s["default"])({method:t.method,responseType:t.type,timeout:t.timeout,data:t.data,url:t.url})}(e,n).then(function(t){return e(i.setload(!1)),200===t.status?t.data.success?(n.success&&n.success(t),t):(e(i.setloadMsg("系统繁忙，请稍后再试！")),e(i.setloadFail(!0)),!1):(e(i.setloadMsg("请求失败，请稍后再试！")),e(i.setloadFail(!0)),!1)})["catch"](function(t){return n.error&&n.error(t),e(i.setloadMsg("网络异常，请稍后再试！")),e(i.setloadFail(!0)),e(i.setload(!1)),!1})};var a=n(57),i=r(a),l=n(41),s=o(l)},37:function(e,t,n){t=e.exports=n(18)(),t.push([e.id,".data-load-true{margin:20px auto;position:relative;-webkit-animation:rotate-forever 1s infinite linear;animation:rotate-forever 1s infinite linear;height:30px;width:30px;border:4px solid #80bd01;border-right-color:transparent;border-radius:50%}.data-tips-false{display:none}.data-tips-true{display:block;text-align:center;height:60px;line-height:60px}.icon-top{background:red}.icon-job{background:#00b38a}.icon-share{background:green}.icon-ask{background:blue}.icon-good{background:violet}.icon-undefined{display:none}.tip-msg-signin{padding:30px 30px 50px;text-align:center}.tip-msg-signin a{color:#80bd01}.user-headimg{width:38px;height:38px;margin-right:10px;border-radius:50%;border:1px solid #ddd;background-size:cover;background-color:#eee}.common-header{z-index:999;position:relative;background:#80bd01;-webkit-animation:move-down .3s ease-out;animation:move-down .3s ease-out}.common-header,.common-header .icon{height:50px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.common-header .icon{width:50px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.common-header .icon a{display:block;color:#fff}.common-header .iconfont{font-size:24px;color:#fff}.common-header .title{line-height:50px;text-align:center;color:#fff;font-size:16px;margin:0;white-space:nowrap;text-overflow:ellipsis;-webkit-box-flex:1;-ms-flex:1 1;flex:1 1}.common-footer .zhanwei{height:50px}.common-footer .menu{position:fixed;right:0;bottom:0;left:0;height:50px;z-index:999;background:#80bd01;display:-webkit-box;display:-ms-flexbox;display:flex}.common-footer .menu li{-webkit-box-flex:1;-ms-flex:1 1;flex:1 1}.common-footer .menu a{padding:5px 0;font-size:14px;display:block;line-height:20px;color:#fff;opacity:.8;text-align:center}.common-footer .menu .on{background:#a2f001}.common-footer .menu .on ad{opacity:1;color:#c9fe59}.common-footer .menu .iconfont{display:block}",""])},38:function(e,t,n){var o=n(37);"string"==typeof o&&(o=[[e.id,o,""]]),n(19)(o,{}),o.locals&&(e.exports=o.locals)},41:function(e,t,n){e.exports=n(42)},42:function(e,t,n){"use strict";function o(e){this.defaults=a.merge({},e),this.interceptors={request:new l,response:new l}}var r=n(45),a=n(2),i=n(44),l=n(43),s=n(51),u=n(49),c=n(46),f=n(22);o.prototype.request=function(e){"string"==typeof e&&(e=a.merge({url:arguments[0]},arguments[1])),e=a.merge(r,this.defaults,{method:"get"},e),e.baseURL&&!s(e.url)&&(e.url=u(e.baseURL,e.url)),e.withCredentials=e.withCredentials||this.defaults.withCredentials,e.data=f(e.data,e.headers,e.transformRequest),e.headers=a.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),a.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]});var t=[i,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n};var p=new o(r),d=e.exports=c(o.prototype.request,p);d.request=c(o.prototype.request,p),d.Axios=o,d.defaults=p.defaults,d.interceptors=p.interceptors,d.create=function(e){return new o(e)},d.all=function(e){return Promise.all(e)},d.spread=n(56),a.forEach(["delete","get","head"],function(e){o.prototype[e]=function(t,n){return this.request(a.merge(n||{},{method:e,url:t}))},d[e]=c(o.prototype[e],p)}),a.forEach(["post","put","patch"],function(e){o.prototype[e]=function(t,n,o){return this.request(a.merge(o||{},{method:e,url:t,data:n}))},d[e]=c(o.prototype[e],p)})},43:function(e,t,n){"use strict";function o(){this.handlers=[]}var r=n(2);o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},44:function(e,t,n){(function(t){"use strict";e.exports=function(e){return new Promise(function(o,r){try{var a;"function"==typeof e.adapter?a=e.adapter:"undefined"!=typeof XMLHttpRequest?a=n(21):"undefined"!=typeof t&&(a=n(21)),"function"==typeof a&&a(o,r,e)}catch(i){r(i)}})}}).call(t,n(66))},45:function(e,t,n){"use strict";function o(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var r=n(2),a=n(53),i=/^\)\]\}',?\n/,l={"Content-Type":"application/x-www-form-urlencoded"};e.exports={transformRequest:[function(e,t){return a(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e){e=e.replace(i,"");try{e=JSON.parse(e)}catch(t){}}return e}],headers:{common:{Accept:"application/json, text/plain, */*"},patch:r.merge(l),post:r.merge(l),put:r.merge(l)},timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}}},46:function(e,t){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return e.apply(t,n)}}},47:function(e,t){"use strict";function n(){this.message="String contains an invalid character"}function o(e){for(var t,o,a=String(e),i="",l=0,s=r;a.charAt(0|l)||(s="=",l%1);i+=s.charAt(63&t>>8-l%1*8)){if(o=a.charCodeAt(l+=.75),o>255)throw new n;t=t<<8|o}return i}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.prototype=new Error,n.prototype.code=5,n.prototype.name="InvalidCharacterError",e.exports=o},48:function(e,t,n){"use strict";function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var r=n(2);e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var i=[];r.forEach(t,function(e,t){null!==e&&"undefined"!=typeof e&&(r.isArray(e)&&(t+="[]"),r.isArray(e)||(e=[e]),r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),i.push(o(t)+"="+o(e))}))}),a=i.join("&")}return a&&(e+=(e.indexOf("?")===-1?"?":"&")+a),e}},49:function(e,t){"use strict";e.exports=function(e,t){return e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,"")}},50:function(e,t,n){"use strict";var o=n(2);e.exports=o.isStandardBrowserEnv()?function(){return{write:function(e,t,n,r,a,i){var l=[];l.push(e+"="+encodeURIComponent(t)),o.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),o.isString(r)&&l.push("path="+r),o.isString(a)&&l.push("domain="+a),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},51:function(e,t){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},52:function(e,t,n){"use strict";var o=n(2);e.exports=o.isStandardBrowserEnv()?function(){function e(e){var t=e;return n&&(r.setAttribute("href",t),t=r.href),r.setAttribute("href",t),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}var t,n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");return t=e(window.location.href),function(n){var r=o.isString(n)?e(n):n;return r.protocol===t.protocol&&r.host===t.host}}():function(){return function(){return!0}}()},53:function(e,t,n){"use strict";var o=n(2);e.exports=function(e,t){o.forEach(e,function(n,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[o])})}},54:function(e,t,n){"use strict";var o=n(2);e.exports=function(e){var t,n,r,a={};return e?(o.forEach(e.split("\n"),function(e){r=e.indexOf(":"),t=o.trim(e.substr(0,r)).toLowerCase(),n=o.trim(e.substr(r+1)),t&&(a[t]=a[t]?a[t]+", "+n:n)}),a):a}},55:function(e,t){"use strict";e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(n):e(n)}},56:function(e,t){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},57:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return{type:s.SET_DATALOAD,data:e}}function a(e){return{type:s.SET_LOADFAIL,data:e}}function i(e){return{type:s.SET_LOADMSG,data:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setload=r,t.setloadFail=a,t.setloadMsg=i;var l=n(12),s=o(l)},85:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(e,t,n){return function(o,r){return(0,f["default"])(o,{method:"get",url:u.ACTION_PREFIX+"/api/v1/topics?tab="+n+"&page="+e+"&limit="+t,data:null,success:function(e){o(i(e.data.data))},error:function(e){alert(e.data.error_msg)}})}}function i(e){return{type:u.SET_INDEXLIST,data:e}}function l(){return{type:u.CLEAR_INDEXLIST}}Object.defineProperty(t,"__esModule",{value:!0}),t.getIndexList=a,t.setIndexList=i,t.clearIndexList=l;var s=n(12),u=r(s),c=n(28),f=o(c)},86:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return{type:l.SET_CURRENTPAGE,data:e}}function a(e){return{type:l.SET_SCROLL_POSITION,data:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setCurrPage=r,t.setScrollPos=a;var i=n(12),l=o(i)},276:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.List=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(3),c=o(u),f=n(277);n(632);var p=t.List=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props.list;return c["default"].createElement("ul",{className:"index-list"},e.map(function(e,t){return c["default"].createElement(f.ListItem,l({key:e.id},e))}))}}]),t}(u.Component);p.propTypes={list:c["default"].PropTypes.array.isRequired}},277:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ListItem=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(3),u=o(s),c=n(31),f=n(10),p=n(20),d=t.ListItem=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.title,o=e.author,r=e.visit_count,a=e.reply_count,i=e.create_at,l=e.last_reply_at;return u["default"].createElement("li",null,u["default"].createElement(c.Link,{to:"/topic/"+t},u["default"].createElement("div",{className:"list-title"},u["default"].createElement("div",{className:"font"},u["default"].createElement(p.TabIcon,this.props)),u["default"].createElement("h3",{className:"tit"},n)),u["default"].createElement("div",{className:"bottom"},u["default"].createElement("div",{className:"author"},u["default"].createElement(p.UserHeadImg,{url:o.avatar_url})),u["default"].createElement("div",{className:"con"},u["default"].createElement("p",{className:"bottom-tip"},u["default"].createElement("span",{className:"name"},o.loginname),u["default"].createElement("span",{className:"count"},a,"/",r)),u["default"].createElement("p",{className:"bottom-tip"},u["default"].createElement("time",{className:"create"},f.Tool.formatDate(i)),u["default"].createElement("time",{className:"re"},f.Tool.formatDate(l)))))))}},{key:"shouldComponentUpdate",value:function(e){return!1}}]),t}(s.Component);d.propTypes={id:u["default"].PropTypes.string.isRequired,title:u["default"].PropTypes.string.isRequired,author:u["default"].PropTypes.object.isRequired,visit_count:u["default"].PropTypes.number.isRequired,reply_count:u["default"].PropTypes.number.isRequired,create_at:u["default"].PropTypes.string.isRequired,last_reply_at:u["default"].PropTypes.string.isRequired}},278:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Nav=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(3),u=o(s),c=n(31);n(633);var f=t.Nav=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.tab!==e.tab}},{key:"render",value:function(){var e=this.props.tab,t={};return t[e]="on",u["default"].createElement("nav",{className:"index-nav"},u["default"].createElement("ul",null,u["default"].createElement("li",{className:t.all},u["default"].createElement(c.Link,{to:"/"},"全部")),u["default"].createElement("li",{className:t.good},u["default"].createElement(c.Link,{to:"/?tab=good"},"精华")),u["default"].createElement("li",{className:t.share},u["default"].createElement(c.Link,{to:"/?tab=share"},"分享")),u["default"].createElement("li",{className:t.ask},u["default"].createElement(c.Link,{to:"/?tab=ask"},"问答")),u["default"].createElement("li",{className:t.job},u["default"].createElement(c.Link,{to:"/?tab=job"},"招聘"))),u["default"].createElement("div",{className:"height"}))}}]),t}(s.Component);f.propTypes={tab:u["default"].PropTypes.string.isRequired}},287:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(3),c=r(u),f=n(81),p=n(70),d=n(85),m=o(d),h=n(86),y=o(h),b=n(278),g=n(20),v=n(276),x=n(10),w=function(e){function t(e,n){a(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.initPath(e),o.handleScroll=o.handleScroll.bind(o),o}return l(t,e),s(t,[{key:"initPath",value:function(e){var t=e.location,n=t.pathname,o=t.search;this.path=n+o}},{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll);var e=this.props.pagination;0===e.page?this.loadData():window.scrollTo(e.scrollX,e.scrollY)}},{key:"handleScroll",value:function(){if(x.Tool.reachBottom()){var e=this.props.loadState;e||this.loadData()}}},{key:"loadData",value:function(e,t){var n=this.props,o=n.actions,r=n.pagination,a="";a=e?e.location.query.tab||"all":this.props.location.query.tab||"all";var i;i=t?t:r.page+1,o.getIndexList(i,r.limit,a).then(function(e){e&&o.setCurrPage(i)})}},{key:"componentWillReceiveProps",value:function(e){var t=e.location,n=t.pathname,o=t.search,r=n+o;this.path!==r&&(this.changeTab(),this.loadData(e,1)),this.initPath(e)}},{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"changeTab",value:function(){var e=this.props.actions;e.clearIndexList()}},{key:"componentWillUnmount",value:function(){var e=this.props.actions;e.setScrollPos({scrollX:window.scrollX,scrollY:window.scrollY}),window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this.props.location.query.tab||"all",t=this.props,n=t.list,o=t.loadState,r=t.loadFailed,a=t.msg;return c["default"].createElement("div",null,c["default"].createElement(b.Nav,{tab:e}),c["default"].createElement(v.List,{list:n}),c["default"].createElement(g.DataLoad,{loadingData:o,loadFailed:r,msg:a}),c["default"].createElement(g.Footer,{index:"0"}))}}]),t}(u.Component),E=function(e){return{list:e.list.indexList,pagination:e.pagination.pagination,loadState:e.load.loadState,loadFailed:e.load.loadFailed,msg:e.load.msg}},_=function(e){return{actions:(0,p.bindActionCreators)(Object.assign({},m,y),e)}};e.exports=(0,f.connect)(E,_)(w),w.contextTypes={router:c["default"].PropTypes.object}},492:function(e,t,n){t=e.exports=n(18)(),t.push([e.id,".index-list{overflow:hidden;background:#fff}.index-list li{padding:10px;border-bottom:1px solid #ddd}.index-list .list-title{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.index-list .tit{overflow:hidden;height:28px;line-height:28px;font-size:16px;white-space:nowrap;text-overflow:ellipsis;-webkit-box-flex:1;-ms-flex:1 1;flex:1 1}.index-list .author{padding-right:5px}.index-list .con{line-height:20px;font-size:12px;color:#666;-webkit-box-flex:1;-ms-flex:1 1;flex:1 1}.index-list time{font-size:12px}.index-list .bottom{margin-top:5px;display:-webkit-box;display:-ms-flexbox;display:flex}.index-list .font .iconfont{padding:3px 5px;margin-right:5px;border-radius:5px;color:#fff}.index-list .bottom-tip{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}",""])},493:function(e,t,n){t=e.exports=n(18)(),t.push([e.id,'.index-nav ul{position:fixed;display:-webkit-box;display:-ms-flexbox;display:flex;top:0;right:0;left:0;z-index:9999;height:38px;background:#80bd01}.index-nav ul li{-webkit-box-flex:1;-ms-flex:1;flex:1}.index-nav ul li+li:after{position:absolute;top:10px;bottom:10px;content:"";border-left:1px solid #5e8a01;border-right:1px solid #a2f001}.index-nav ul li a{display:block;font-size:14px;text-align:center;color:#fff;height:38px;line-height:38px}.index-nav ul .on a{line-height:30px;height:30px;margin:4px 5px;border-radius:8px;background:#5e8a01}.index-nav .height{height:38px;background:#80bd01}',""]);
},632:function(e,t,n){var o=n(492);"string"==typeof o&&(o=[[e.id,o,""]]),n(19)(o,{}),o.locals&&(e.exports=o.locals)},633:function(e,t,n){var o=n(493);"string"==typeof o&&(o=[[e.id,o,""]]),n(19)(o,{}),o.locals&&(e.exports=o.locals)}});